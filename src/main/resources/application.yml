spring:
  application:
    name: rollup-api

  # PostgreSQL (Supabase) 설정
  datasource:
    url: ${DATABASE_URL:jdbc:postgresql://localhost:5432/rollup}
    username: ${DATABASE_USERNAME:postgres}
    password: ${DATABASE_PASSWORD:}
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      ddl-auto: update
    show-sql: false
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.PostgreSQLDialect

  # Async 설정
  task:
    execution:
      pool:
        core-size: 5
        max-size: 10

# Firebase 설정
firebase:
  config-path: ${FIREBASE_CONFIG_PATH:firebase-service-account.json}
  credentials: ${FIREBASE_CREDENTIALS:}

# CORS 설정
cors:
  allowed-origins: ${CORS_ALLOWED_ORIGINS:http://localhost:5173,http://localhost:3000}

# Server 설정
server:
  port: ${PORT:8080}

# Logging 설정
logging:
  level:
    root: INFO
    com.rollup.rollupapi: DEBUG
    org.hibernate.SQL: DEBUG

---
# Production 프로파일
spring:
  config:
    activate:
      on-profile: prod

  jpa:
    show-sql: false
    hibernate:
      ddl-auto: update

logging:
  level:
    root: WARN
    com.rollup.rollupapi: INFO
    org.hibernate.SQL: WARN
